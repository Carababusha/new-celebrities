@page "/play"

@inject NewCelebrities.Web.Services.GameCreator gameCreator

<div class="container mx-auto max-w-2xl">

    @if (game is not null)
    {

        <div class="flex flex-col space-y-4">
            <CharacterCard Character="game.Deck.VisibleItem.Character" />
            <div class="flex justify-between space-x-4">
                <CustomButton OnClick="OnGuess" AdditionalStyles="w-full" Height="CustomButton.ButtonHeight.Standard">
                    <svg class="w-8 h-8" fill="none" stroke="currentColor"
                     viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z">

                        </path>
                    </svg>
                </CustomButton>

                <CustomButton OnClick="OnFail" AdditionalStyles="w-full" Height="CustomButton.ButtonHeight.Standard">
                    <button type="button" @onclick="OnFail">
                        <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11.933 12.8a1 1 0 000-1.6L6.6 7.2A1 1 0 005 8v8a1 1 0 001.6.8l5.333-4zM19.933 12.8a1 1 0 000-1.6l-5.333-4A1 1 0 0013 8v8a1 1 0 001.6.8l5.333-4z">

                            </path>
                        </svg>
                    </button>
                </CustomButton>

            </div>
        </div>

    }
</div>

@code {
    private NewCelebrities.Core.Game game;

    protected override async Task OnInitializedAsync()
    {
        game = await gameCreator.Create(1, 10,
            NewCelebrities.Core.Color.Bluemoon,
            NewCelebrities.Core.Color.Greenfindor);
    }

    private void OnGuess()
    {
        game.GuessVisibleItem();
    }


    private void OnFail()
    {
        game.FailVisibleItem();
    }
}
